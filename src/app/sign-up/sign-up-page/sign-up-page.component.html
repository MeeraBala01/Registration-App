<app-header label="REGISTER"></app-header>
<section class="bg-slate-100">
  <div class="flex flex-col items-center justify-center px-6 py-8">
    <div class="bg-white shadow-md p-5 rounded-xl">
      <div class="flex flex-row justify-around items-center gap-20">
        <h1 class="font-semibold text-gray-600 text-2xl">Fill in details</h1>
        <button
          routerLink="/exit"
          class="text-red-700 px-2 rounded-xl hover:text-white hover:bg-red-700"
        >
          Exit
        </button>
      </div>
      <form class="space-y-7 p-12" [formGroup]="userForm">
        <div>
          <label for="name" class="block mb-2 text-sm font-medium text-gray-900"
            >Name
            <input
              [(ngModel)]="userRegisterObj.name"
              type="text"
              name="name"
              id="name"
              placeholder="Full name"
              formControlName="name"
              class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-96 p-2.5 dark:bg-white dark:border-gray-300 dark:placeholder-gray-400 dark:text-black focus:border-blue-500"
            />
            @if(userForm.controls['name'].errors?.['required'] &&
            userForm.controls['name'].touched ){
            <span class="text-red-600">Name is required</span>
            }
          </label>
        </div>
        <div>
          <label
            for="mobile"
            class="block mb-2 text-sm font-medium text-gray-900"
            >Mobile number
            <input
              [(ngModel)]="userRegisterObj.mobile"
              type="text"
              name="mobile"
              id="mobile"
              placeholder="Mobile number"
              formControlName="mobile"
              class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-white dark:border-gray-300 dark:placeholder-gray-400 dark:text-black dark:focus:border-blue-500"
            />

            @if(userForm.controls['mobile'].touched){
            @if(userForm.controls['mobile'].errors?.['required'] ){
            <span class="text-red-600">This is required</span>
            } @if(userForm.controls['mobile'].errors?.['minlength']){
            <span class="text-red-600">Minimum length is 10</span>
            } @if(userForm.controls['mobile'].errors?.['maxlength']){
            <span class="text-red-600">Maximum length is 10</span>
            } }
          </label>
        </div>
        <div>
          <label
            for="email"
            class="block mb-2 text-sm font-medium text-gray-900"
            >Email-Id
            <input
              [(ngModel)]="userRegisterObj.email"
              type="email"
              name="email"
              id="email"
              placeholder="Email-Id"
              formControlName="email"
              class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-white dark:border-gray-300 dark:placeholder-gray-400 dark:text-black dark:focus:border-blue-500"
            />
            @if (userForm.controls['email'].touched){
            @if(userForm.controls['email'].errors?.['required'] ){
            <span class="text-red-600">This is required</span>
            } @if(userForm.controls['email'].errors?.['email']){
            <span class="text-red-600">Enter a valid Email-Id</span>
            } }
          </label>
        </div>
        <div>
          <label
            for="password"
            class="block mb-2 text-sm font-medium text-gray-900"
            >Password
            <input
              [(ngModel)]="userRegisterObj.password"
              type="password"
              name="password"
              id="password"
              placeholder="Your password"
              formControlName="password"
              class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-white dark:border-gray-300 dark:placeholder-gray-400 dark:text-black dark:focus:border-blue-500"
            />
            @if (userForm.controls['password'].touched) {
            @if(userForm.controls['password'].errors?.['required'] ){
            <span class="text-red-600">This is required</span>
            } @if(userForm.controls['password'].errors?.['pattern']){
            <span class="text-red-600"
              ><b>Password must be</b>
              <ul>
                <li>at least 7 characters long</li>
                <li>include uppercase</li>
                <li>include lowercase</li>
                <li>include at least a number</li>
                <li>a special character and no spaces</li>
              </ul>
            </span>
            }}
          </label>
        </div>
        <button
          type="button"
          (click)="onRegister()"
          class="p-3 rounded-xl font-semibold bg-baby-blue text-white shadow-md w-full text-xl hover:opacity-90"
          routerLink="/save"
        >
          Save
        </button>
      </form>
    </div>
  </div>
</section>
